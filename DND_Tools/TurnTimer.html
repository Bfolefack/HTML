<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Turn Timer</title>
    
</head>
<body style="padding:0; margin:0; overflow: visible;">
    <p id="numDisplay" innerHTML = "" style="text-align: center;font-size: 20vh; margin:16.6vh; height:16.6vh; overflow: visible;">0:00</p>
    <div style="overflow: visible; width:100vw; height: 50vh;">
        <button style= "width: 25%; height:100%; margin: -0.25vw ;padding: 0%; overflow: visible;" onclick="test = true;updateDisplay();">Start</button>
        <button style= "width: 25%; height:100%; margin: -0.25vw ;padding: 0%; overflow: visible;" onclick="test = false;updateDisplay();">Stop</button>
        <button style= "width: 25%; height:100%; margin: -0.25vw ;padding: 0%; overflow: visible;" onclick="num += 60;updateDisplay();">Next Turn</button>
        <button style= "width: 25%; height:100%; margin: -0.25vw ;padding: 0%; overflow: visible;" onclick="test = false; num = 0;updateDisplay();">Reset</button>
    </div>
    <script>
        test = false;
        var num = 0;
        var numDisplay = document.getElementById("numDisplay");
        startTimer();
        function startTimer(){
                var timer = setInterval(function(){
                    if(test && num > 0){
                        num--;
                    }
                    if(num <= 20 && test){
                        if(document.body.style.backgroundColor == "yellow")
                            document.body.style.backgroundColor = "white";
                        else
                            document.body.style.backgroundColor = "yellow";
                    }
                    

                    numDisplay.innerHTML = String(Math.floor(num/60) + ":" + ((num % 60)/10 >= 1 ? "":"0") + num % 60);
                }, 1000);

                var timer = setInterval(function(){
                    if(num <= 0 && test){
                        if(document.body.style.backgroundColor == "red")
                            document.body.style.backgroundColor = "white";
                        else
                            document.body.style.backgroundColor = "red";
                    }
                }, 200);
            }
        function updateDisplay(){
            numDisplay.innerHTML = String(Math.floor(num/60) + ":" + ((num % 60)/10 >= 1 ? "":"0") + num % 60);
            document.body.style.backgroundColor = "white"
        }
    </script>
</body>
</html>